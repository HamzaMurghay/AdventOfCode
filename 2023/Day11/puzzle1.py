import re

sstring = """.....#.......................#................#............#........#..........................................#.......#....................
.........................................................................#.................#........................................#.......
............#...........................#..........................................................................#........................
..#..................................................#......................................................................................
......................#............#...........................................#..................#.........................#............#..
................................................#...........................................................................................
..............................#............................#...........................................................#....................
......................................#...............................#.....................................................................
........................#......................................................................................#...........................#
............#.............................................................#..................#...........#......................#...........
#...........................................................................................................................................
.....#..............#......#........................#..........#...........................................................#................
.................................#...................................#.................#..............................#.....................
..........#................................#................................................................................................
.........................................................................#..................#...............................................
...#.....................................................................................................#............................#.....
...............#............#....................#.................................................#........................................
.......#..............#....................................#..........#........................................#.............#..............
......................................................................................................................#...........#.........
...............................#...........................................#................................................................
...................#..................................................................................#.....................................
....................................................#.........#..................................................#..........................
............................................#....................................#...............#........................................#.
........................................................................................#...................................................
...........#.........#..............#.............................................................................................#.........
...........................#................................................................................#...............................
.....#........................................................................#..............#.........................#....................
...............................................#.............#.........................................................................#....
.....................................................#.............................................#..........................#.............
..#.................#................................................#............#.....#......................#............................
...............#.......................#....................................#..................#............................................
..................................................#.........................................................................................
.............................#..........................#........#..........................................#...............#............#..
..........#..............................................................#..........................................................#.......
.....................................................................................................................#......................
...#.................................................#...................................#..................................................
..............#.................#.....#................................................................................................#....
....................#........................#.......................................................#......................................
...........................................................#.......#..............#............................#............................
...........#................................................................................#...............................................
...........................#...........................................................................................#....................
.....#....................................#...........................#.....#...............................................................
....................................................#.................................#.....................................................
................................................................................................#.....................................#.....
......................................#..........................................#.............................................#............
........................#......#.......................#...................................#...............#..........#.....................
..................#............................................#...................................#........................................
...............................................................................................................#..................#.........
.......#...........................#.......#......#.................#......................................................................#
..........................#.......................................................#.........................................................
...#......................................................................#...................#.............................................
........................................#..................#..............................................#.............#...................
.......................................................................................#.........................#...............#..........
............................................................................................................................................
.............#......#..........#................#...........................................#...............................................
..................................................................#...............................#.........................................
............................................................................................................................................
................#..........#.......#...............................................#............................#........................#..
#.........#...............................................................................#.................................................
........................................#.................................................................................#.................
.....#.............#................................#...................#..............................#...........#........................
.........................#..................................#...............................................................................
...............................................................................#................................................#......#....
.....................................................................................#......................................................
...........#......................#....................#.....................................#.............................................#
#.................#...............................................#......................................................#.........#........
.............................................#...............#..............#...............................................................
........................................#..........................................................#.............#......................#...
.........#.....................#..........................................................#.................................................
..................................................#..................................#...............................#......................
....................................#...................#...................................................................................
.............#................................................................#.............................................................
......................#..............................................#........................................#..........#..................
.............................................................#...........................................................................#..
#.........................................#........................................#...............#.....#....................#.............
.....#.............................#.............#.......................#.................#.......................#...............#........
.................................................................#.............#............................................................
...............#............................................................................................................................
........................................#............................#......................................................................
...........................................................#..........................#...........#..............................#..........
.#....................#.............................................................................................#.......................
............................................................................................................................................
..............................................#............................................#..............................................#.
...........#................................................................................................#................#..............
............................................................#.........#................#..............................#.....................
..#....................................................................................................................................#....
..................................#............................................................#.....#......................................
............................#..............................................................................................#.......#........
......#..........#..........................................................................................................................
...............................................................#................................................#...........................
........................................#.............#..............................#........................................#............#
..........................#..........................................#......#........................................#......................
#...........#.................................#.............................................................................................
............................................................................................................................................
..............................................................................................#..........#.............................#....
.....................#.................................................................#....................................................
...#....................................................................#.......................................#............#..............
..........................#..........#.......................#.....................................................................#........
...........................................#......................#.........#............................................................#..
#.................#....................................#...........................#..............#.........................................
................................................#........................................................................#..................
....#.............................#...................................#.....................................................................
.............#..............................................#.................................................................#........#....
..........................#......................................................#.......................#......#...........................
........................................#.............#................................#....................................................
.#......#.........................................................................................#...............................#........#
....................................#............#..........................................................................................
...............#.............#.........................................................................................#....................
............................................................................................................................................
.........................#.................................#....................................#.....#.....................................
#...........................................................................#....................................#..................#.......
.................#.....................#...................................................................................#................
........#...................................#.................#...........................#..............#..................................
......................................................#............#...............#...............#........................................
.........................................................................#..................................................................
.................................#.....................................................#......#.............................................
.........................................#.................................................................#.............#........#.........
...............#......................................................#.....#.............................................................#.
..........#....................................................#.....................................#......................................
.....#................................#...............................................................................#.....................
...........................#...............................#.................................#.........................................#....
................................#.................................................................#.........................................
..............#..........................#..................................................................#..............#................
.........#.......................................#..................................................................#.............#.........
......................................................................#.....................................................................
......................#..........................................#.....................................#....................................
#..............................................................................#.......#....................................................
..................................#.........................................................................................................
...........#..................................................#.........#..........................................#........................
.......................................#.......#..........................................#........#........#.........................#.....
....................#...............................................#.......................................................................
................................#..........#...........................................................................#....................
..#......#............................................................................................#.........#..................#........
.........................#.......................................................................#..........................#...............
...........................................................................#................................................................
................#.....................................#......#.....................................................#........................
....................................................................................................#....................................#..
.................................................................#...............#.......#..................................................
.........#..........................#...................................#...............................#...................................
..............................#................#............................................................................#..............."""

sstring_list = list(sstring)

for column_no in range(len(sstring.splitlines()[0])):  # Expanding Columns
    current_column_elements = []
    for column_element in range(column_no, len(sstring), len(sstring.splitlines()[0])+1):
        current_column_elements.append(sstring[column_element])
    if '#' not in current_column_elements:
        for column_to_change in range(column_no, len(sstring), len(sstring.splitlines()[0])+1):
            sstring_list[column_to_change] = ".."

sstring = ''.join(sstring_list)

for row in sstring.splitlines():  # Expanding Rows
    if all(char == "." for char in row):
        sstring = sstring.replace(f"{row}\n", f"{row}\n{row}\n")
        break

sum_of_pair_distances = 0

for hashtag in re.finditer("\#", sstring):
    current_galaxy_index = hashtag.start()
    no_of_lines_after_galaxy = 0
    for next_galaxy in range(current_galaxy_index+1, len(sstring)):
        no_of_lines_after_galaxy += 0 or sstring[next_galaxy] == "\n"
        if sstring[next_galaxy] == "#":
            sum_of_pair_distances += no_of_lines_after_galaxy + abs(current_galaxy_index + (len(sstring.splitlines()[0]) + 1) * no_of_lines_after_galaxy - next_galaxy)

print(sum_of_pair_distances)
